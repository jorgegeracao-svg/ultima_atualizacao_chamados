/* ==========================================================================
   03-NOVO-CHAMADO.CSS — TELA DE NOVO CHAMADO E DETALHES DO CHAMADO
   Contém: Formulário de abertura de chamado (sobreposição full-screen),
   tela de detalhes com abas, barra de progresso de etapas, mensagens e
   card de informações do chamado.
   Depende de: 00-geral.css (variáveis, reset, botões, checkboxes, inputs)
               02-tela-principal.css (sidebar, layout raiz)
   ========================================================================== */


/* ==========================================================================
   TELA DE NOVO CHAMADO
   Painel deslizante que cobre o conteúdo principal ao criar um chamado.
   ========================================================================== */

/* Container principal — ocupa o espaço à direita da sidebar */
.new-ticket-screen {
    display: none;                  /* Oculto por padrão */
    position: fixed;
    top: 0;
    left: var(--sidebar-width);     /* 196px — começa após a sidebar */
    right: 0;
    bottom: 0;
    background: var(--color-bg);
    z-index: 100;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Exibe a tela quando a classe .active é adicionada via JavaScript */
.new-ticket-screen.active { display: block; }

/* --- CABEÇALHO DO FORMULÁRIO (fixo no topo) --- */
.ticket-header {
    background: white;
    padding: 16px 24px;
    border-bottom: 1px solid var(--color-gray-200);
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: sticky;
    top: 0;
    z-index: 10;
}

.ticket-header-left {
    display: flex;
    align-items: center;
    gap: 12px;
}

/* Botão de voltar (seta para esquerda) */
.back-btn {
    width: 40px;
    height: 40px;
    border: none;
    background: var(--color-gray-100);
    border-radius: var(--radius-md);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background 0.2s, transform 0.1s;
    flex-shrink: 0;
}

.back-btn:hover { background: var(--color-gray-200); }
.back-btn:active { transform: scale(0.95); }

.back-btn svg {
    width: 18px;
    height: 18px;
    stroke: var(--color-gray-700);
    stroke-width: 2;
    stroke-linecap: round;
    fill: none;
}

.ticket-title {
    font-size: 20px;
    font-weight: 600;
    color: var(--color-gray-900);
}

/* --- ÁREA DE FORMULÁRIO --- */
.ticket-form-container {
    max-width: 1400px;
    margin: 20px auto;
    padding: 0 32px;
}

/* Card branco que envolve o formulário */
.ticket-form-card {
    background: white;
    border-radius: var(--radius-lg);
    padding: 24px;
    box-shadow: var(--shadow-sm);
}

/* Grade vertical de grupos de campo */
.form-grid {
    display: grid;
    gap: 18px;
}

/* Linha com dois campos lado a lado */
.form-row-2 {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 16px;
}

.form-group {
    display: flex;
    flex-direction: column;
}

/* --- CAMPOS ESPECÍFICOS POR TIPO DE CHAMADO ---
   Mostrados/ocultados dinamicamente via JavaScript conforme o tipo selecionado. */
.ticket-fields {
    display: grid;
    gap: 16px;
    margin-top: 16px;
    padding-top: 16px;
    border-top: 1px solid var(--color-gray-200);
}

.ticket-fields.hidden { display: none !important; }

/* --- GRADE DE TIPO DE MANUTENÇÃO (3 colunas) --- */
.tipo-manutencao-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
}

/* Grade de checkboxes de tipo de manutenção (3 colunas) */
.tipo-manutencao-checkboxes {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
}

/* --- AÇÕES DO FORMULÁRIO (rodapé) --- */
.form-actions {
    display: flex;
    gap: 12px;
    justify-content: flex-end;
    margin-top: 24px;
    padding-top: 20px;
    border-top: 1px solid var(--color-gray-200);
}

/* Os botões .btn-cancel e .btn-submit estão definidos em 00-geral.css */


/* ==========================================================================
   TELA DE DETALHES DO CHAMADO (VERSÃO LEGADA)
   Painel sobreposto exibindo detalhes do chamado selecionado.
   Nota: Esta é a versão anterior; o componente atual é .chamado-detalhes-screen
   ========================================================================== */
.ticket-details-screen {
    display: none;
    position: fixed;
    top: 0;
    left: var(--sidebar-width);
    right: 0;
    bottom: 0;
    background: var(--color-bg);
    z-index: 100;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
}

.ticket-details-screen.active { display: block; }

/* Número do chamado no cabeçalho */
.ticket-number {
    font-size: 14px;
    color: var(--color-primary);
    font-weight: 600;
}

/* Container central com largura máxima */
.ticket-details-container {
    max-width: 1200px;
    margin: 20px auto;
    padding: 0 32px;
}

/* --- CARD DE INFORMAÇÕES DO CHAMADO --- */
.ticket-info-card {
    background: white;
    border-radius: var(--radius-lg);
    padding: 24px;
    margin-bottom: 20px;
    box-shadow: var(--shadow-sm);
}

/* Grade de 2 colunas para os campos de informação */
.info-row {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-bottom: 16px;
}

.info-row:last-child { margin-bottom: 0; }

.info-item {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

/* Rótulo do campo (em maiúsculas pequenas) */
.info-label {
    font-size: 12px;
    font-weight: 600;
    color: var(--color-gray-500);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.info-value {
    font-size: 14px;
    font-weight: 500;
    color: var(--color-gray-900);
}

.sla-status { font-weight: 600; }

/* --- HISTÓRICO DE ATUALIZAÇÕES (estilo timeline) --- */
.ticket-history {
    background: white;
    border-radius: var(--radius-lg);
    padding: 24px;
    margin-bottom: 20px;
    box-shadow: var(--shadow-sm);
}

.history-title {
    font-size: 18px;
    font-weight: 700;
    color: var(--color-gray-900);
    margin-bottom: 20px;
    padding-bottom: 12px;
    border-bottom: 2px solid var(--color-primary);
}

.history-messages {
    display: flex;
    flex-direction: column;
    gap: 16px;
}

/* Cada mensagem do histórico (linha do tempo) */
.history-message {
    background: var(--color-gray-50);
    border-left: 4px solid var(--color-primary);  /* Linha azul à esquerda */
    border-radius: var(--radius-md);
    padding: 16px;
    transition: background 0.2s, box-shadow 0.2s;
}

.history-message:hover {
    background: var(--color-gray-100);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

/* Cabeçalho da mensagem: etapa + timestamp */
.message-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.message-etapa {
    font-size: 14px;
    font-weight: 700;
    color: var(--color-primary);
}

.message-time {
    font-size: 12px;
    color: var(--color-gray-500);
}

/* Linha do responsável pela etapa */
.message-responsavel {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    font-weight: 600;
    color: var(--color-gray-700);
    margin-bottom: 10px;
}

.message-icon {
    width: 16px;
    height: 16px;
    stroke: var(--color-primary);
    fill: none;
    stroke-width: 2;
    stroke-linecap: round;
    stroke-linejoin: round;
}

/* Corpo do texto da mensagem/observação */
.message-observacao {
    font-size: 14px;
    color: var(--color-gray-900);
    line-height: 1.6;
    padding: 12px;
    background: white;
    border-radius: var(--radius-sm);
}

/* Placeholder quando não há histórico */
.no-history {
    text-align: center;
    padding: 40px 20px;
    color: var(--color-gray-500);
    font-size: 14px;
}

/* --- CARD PARA ADICIONAR NOVA ETAPA --- */
.add-step-card {
    background: white;
    border-radius: var(--radius-lg);
    padding: 24px;
    box-shadow: var(--shadow-sm);
}


/* ==========================================================================
   TELA DE DETALHES DO CHAMADO (VERSÃO ATUAL — com animação)
   Painel deslizante da direita com cabeçalho, progresso, abas e conteúdo.
   ========================================================================== */

/* Container — começa fora da tela (translateX 100%) e desliza para dentro */
.chamado-detalhes-screen {
    position: fixed;
    top: 0;
    left: var(--sidebar-width);
    right: 0;
    bottom: 0;
    background: #f4f6f9;
    z-index: 500;
    display: flex;
    flex-direction: column;
    overflow: hidden;

    /* Estado inicial: invisível e deslocado para a direita */
    transform: translateX(100%);
    opacity: 0;
    pointer-events: none;
    transition: transform 0.35s cubic-bezier(0.4, 0, 0.2, 1),
                opacity   0.35s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Estado ativo: visível e na posição correta */
.chamado-detalhes-screen.active {
    transform: translateX(0);
    opacity: 1;
    pointer-events: all;
}

/* --- CABEÇALHO DA TELA DE DETALHES --- */
.chamado-detalhes-header {
    background: white;
    padding: 14px 28px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid var(--color-gray-200);
    flex-shrink: 0;  /* Não comprime quando o conteúdo cresce */
    gap: 20px;
}

.chamado-detalhes-header-left {
    display: flex;
    align-items: center;
    gap: 16px;
    min-width: 0;
}

/* Botão "← Voltar" */
.chamado-voltar-btn {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 8px 14px;
    background: var(--color-gray-100);
    border: 1px solid var(--color-gray-200);
    border-radius: var(--radius-md);
    font-size: 13px;
    font-weight: 600;
    color: var(--color-gray-700);
    cursor: pointer;
    transition: background 0.2s, border-color 0.2s;
    white-space: nowrap;
    flex-shrink: 0;
}

.chamado-voltar-btn:hover {
    background: var(--color-gray-200);
    border-color: var(--color-gray-300);
}

.chamado-voltar-btn svg {
    width: 16px;
    height: 16px;
    stroke: var(--color-gray-700);
}

.chamado-detalhes-titulo-wrapper { min-width: 0; }

/* Linha superior: número + badge de status */
.chamado-detalhes-top {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 2px;
}

.chamado-detalhes-numero {
    font-size: 17px;
    font-weight: 700;
    color: var(--color-gray-900);
}

/* Badge de status do chamado (em aberto / finalizado) */
.chamado-detalhes-badge {
    display: inline-flex;
    align-items: center;
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.6px;
    background: var(--color-primary-bg);
    color: #1d4ed8;
}

.chamado-detalhes-badge.finalizado {
    background: var(--color-success-light);
    color: #065f46;
}

/* Subtítulo (título do chamado truncado) */
.chamado-detalhes-titulo {
    font-size: 13px;
    color: var(--color-gray-500);
    font-weight: 500;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* Lado direito: pills de meta-informação */
.chamado-detalhes-header-right {
    display: flex;
    align-items: center;
    gap: 10px;
    flex-shrink: 0;
}

/* Pill de informação (data, SLA, etc.) */
.chamado-meta-pill {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 6px 12px;
    background: var(--color-gray-50);
    border: 1px solid var(--color-gray-200);
    border-radius: var(--radius-md);
    font-size: 12px;
    color: var(--color-gray-500);
    font-weight: 500;
    white-space: nowrap;
}

.chamado-meta-pill svg {
    width: 14px;
    height: 14px;
    stroke: var(--color-gray-400);
    flex-shrink: 0;
}

/* --- BARRA DE PROGRESSO DE ETAPAS ---
   Linha horizontal com círculos numerados e conectores entre etapas.       */
.chamado-progresso-wrapper {
    background: white;
    border-bottom: 1px solid var(--color-gray-200);
    padding: 16px 28px;
    flex-shrink: 0;
}

/* Scroll horizontal quando há muitas etapas */
.chamado-progresso-scroll {
    overflow-x: auto;
    padding-bottom: 4px;
}

.chamado-progresso-scroll::-webkit-scrollbar { height: 3px; }
.chamado-progresso-scroll::-webkit-scrollbar-track { background: var(--color-gray-100); border-radius: 2px; }
.chamado-progresso-scroll::-webkit-scrollbar-thumb { background: var(--color-gray-300); border-radius: 2px; }

/* Linha de etapas lado a lado */
.chamado-progresso-linha {
    display: flex;
    align-items: flex-start;
    gap: 0;
    min-width: max-content;
    position: relative;
    padding: 4px 0;
}

/* Item individual de etapa (círculo + label) */
.progresso-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    cursor: pointer;
    min-width: 80px;
    padding: 0 4px;
}

/* Conector horizontal entre etapas */
.progresso-item:not(:last-child)::after {
    content: '';
    position: absolute;
    top: 18px;
    left: calc(50% + 18px);
    width: calc(100% - 36px);
    height: 2px;
    background: var(--color-gray-200);
    z-index: 0;
}

/* Conector azul para etapas já concluídas */
.progresso-item.concluida:not(:last-child)::after {
    background: var(--color-primary);
}

/* Subetapas são ligeiramente mais estreitas */
.progresso-item.subetapa { min-width: 68px; }

/* Círculo numerado da etapa */
.progresso-circulo {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    border: 2px solid var(--color-gray-200);
    background: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 700;
    color: var(--color-gray-400);
    z-index: 1;
    position: relative;
    transition: all 0.2s;
    flex-shrink: 0;
}

/* Círculo preenchido de azul para etapas concluídas */
.progresso-item.concluida .progresso-circulo {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: white;
}

/* Círculo com borda azul e sombra para etapa atual */
.progresso-item.atual .progresso-circulo {
    background: white;
    border-color: var(--color-primary);
    border-width: 2.5px;
    color: var(--color-primary);
    box-shadow: 0 0 0 4px rgba(0, 149, 219, 0.12);
}

/* Subetapas com círculo menor */
.progresso-item.subetapa .progresso-circulo {
    width: 30px;
    height: 30px;
    font-size: 10px;
}

.progresso-item:hover .progresso-circulo { transform: scale(1.08); }

/* Ícone de check dentro de etapas concluídas */
.progresso-check {
    width: 16px;
    height: 16px;
    stroke: white;
    fill: none;
    stroke-width: 2.5;
    stroke-linecap: round;
    stroke-linejoin: round;
}

/* Label abaixo do círculo */
.progresso-label {
    font-size: 10px;
    font-weight: 500;
    color: var(--color-gray-400);
    text-align: center;
    margin-top: 6px;
    line-height: 1.3;
    max-width: 72px;
    word-break: break-word;
    hyphens: auto;
}

.progresso-item.concluida .progresso-label { color: var(--color-primary); font-weight: 600; }
.progresso-item.atual .progresso-label     { color: var(--color-primary); font-weight: 700; }

/* --- PAINEL DA ETAPA ATUAL (abaixo do progresso) --- */
.chamado-etapa-atual-panel {
    background: white;
    border-bottom: 1px solid var(--color-gray-200);
    padding: 14px 28px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 20px;
    flex-shrink: 0;
}

.chamado-etapa-atual-info {
    display: flex;
    align-items: center;
    gap: 14px;
}

/* Ícone quadrado com número da etapa atual */
.chamado-etapa-atual-icone {
    width: 42px;
    height: 42px;
    border-radius: 10px;
    background: linear-gradient(135deg, var(--color-primary), var(--color-primary-mid));
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 15px;
    font-weight: 700;
    flex-shrink: 0;
    box-shadow: 0 4px 10px rgba(0, 149, 219, 0.25);
}

/* Rótulo "ETAPA ATUAL" acima do título */
.chamado-etapa-atual-label {
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.6px;
    color: var(--color-gray-400);
    font-weight: 600;
    margin-bottom: 2px;
}

.chamado-etapa-atual-titulo {
    font-size: 15px;
    font-weight: 700;
    color: var(--color-gray-900);
    margin-bottom: 2px;
}

.chamado-etapa-atual-resp {
    font-size: 12px;
    color: var(--color-gray-500);
}

.chamado-etapa-atual-resp strong {
    color: var(--color-gray-700);
    font-weight: 600;
}

/* Indicação quando o usuário não tem permissão para agir na etapa */
.chamado-etapa-sem-permissao {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    background: var(--color-gray-50);
    border: 1px solid var(--color-gray-200);
    border-radius: var(--radius-md);
    font-size: 13px;
    font-weight: 500;
    color: var(--color-gray-500);
    white-space: nowrap;
}

/* Botão de ação quando o usuário tem permissão */
.chamado-etapa-com-permissao {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 8px 16px;
    background: var(--color-primary);
    border-radius: var(--radius-md);
    font-size: 13px;
    font-weight: 600;
    color: white;
    cursor: pointer;
    border: none;
    transition: background 0.2s;
    white-space: nowrap;
}

.chamado-etapa-com-permissao:hover { background: var(--color-primary-dark); }

/* --- ABAS (Mensagens / Formulário / Anexos) --- */
.chamado-abas-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    min-height: 0;
}

/* Barra de navegação entre abas */
.chamado-abas-nav {
    display: flex;
    background: white;
    border-bottom: 2px solid var(--color-gray-200);
    flex-shrink: 0;
    padding: 0 28px;
}

/* Botão de cada aba */
.chamado-aba-btn {
    display: flex;
    align-items: center;
    gap: 7px;
    padding: 13px 20px;
    border: none;
    background: transparent;
    font-size: 13px;
    font-weight: 600;
    color: var(--color-gray-500);
    cursor: pointer;
    border-bottom: 2px solid transparent;
    margin-bottom: -2px;        /* Sobrepõe a borda do container para criar aba selecionada */
    transition: color 0.2s, background 0.2s;
}

.chamado-aba-btn svg {
    width: 15px;
    height: 15px;
    stroke: currentColor;
    flex-shrink: 0;
}

.chamado-aba-btn:hover {
    color: var(--color-gray-700);
    background: var(--color-gray-50);
}

/* Aba selecionada — borda azul abaixo e texto azul */
.chamado-aba-btn.active {
    color: var(--color-primary);
    border-bottom-color: var(--color-primary);
}

/* Badge numérico dentro da aba (ex: quantidade de mensagens) */
.chamado-aba-badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 18px;
    height: 18px;
    padding: 0 5px;
    background: var(--color-primary);
    color: white;
    border-radius: 10px;
    font-size: 10px;
    font-weight: 700;
}

/* --- CONTEÚDO DAS ABAS --- */
.chamado-aba-conteudo {
    display: none;
    flex: 1;
    overflow-y: auto;
    padding: 24px 28px;
    min-height: 0;
}

.chamado-aba-conteudo.active { display: block; }

/* Container da aba de formulário (largura limitada) */
#chamadoFormularioContainer { max-width: 640px; }


/* --- ABA DE MENSAGENS ---
   Lista de cards de mensagem/atualização do chamado.                      */
.chamado-mensagens-lista {
    display: flex;
    flex-direction: column;
    gap: 16px;
    max-width: 860px;
}

/* Card individual de mensagem */
.chamado-mensagem-card {
    background: white;
    border-radius: var(--radius-lg);
    border: 1px solid var(--color-gray-200);
    overflow: hidden;
    box-shadow: 0 1px 4px rgba(0,0,0,0.04);
}

/* Cabeçalho da mensagem (fundo cinza claro) */
.chamado-mensagem-header {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 12px 16px;
    background: var(--color-gray-50);
    border-bottom: 1px solid #f0f0f0;
}

/* Cabeçalho clicável para colapsar/expandir a mensagem */
.chamado-mensagem-header-toggle {
    cursor: pointer;
    user-select: none;
    transition: background 0.15s;
}

.chamado-mensagem-header-toggle:hover { background: #f0f4f8; }

/* Seta de colapso com transição suave */
.msg-toggle-icon {
    width: 16px;
    height: 16px;
    flex-shrink: 0;
    stroke: var(--color-gray-400);
    transition: transform 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Número sequencial da mensagem */
.chamado-mensagem-num {
    font-size: 11px;
    font-weight: 700;
    color: var(--color-gray-400);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

/* Badge de perfil do autor (solicitante, técnico, etc.) */
.chamado-mensagem-perfil-badge {
    padding: 3px 10px;
    border-radius: 20px;
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.4px;
}

/* Cores por perfil de usuário */
.badge-solicitante    { background: #dcfce7; color: #166534; }  /* Verde */
.badge-tecnico        { background: #dbeafe; color: #1e40af; }  /* Azul */
.badge-administrativo { background: #fef3c7; color: #92400e; }  /* Amarelo */
.badge-comprador      { background: #f3e8ff; color: #6b21a8; }  /* Roxo */
.badge-admin          { background: #fee2e2; color: #991b1b; }  /* Vermelho */

/* Tag com nome da etapa em que a mensagem foi criada */
.chamado-mensagem-etapa-tag {
    font-size: 11px;
    color: var(--color-gray-400);
    font-weight: 500;
}

/* Corpo colapsável da mensagem */
.chamado-mensagem-body {
    padding: 14px 16px;
    overflow: hidden;
    max-height: 600px;
    transition: max-height 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                padding   0.3s cubic-bezier(0.4, 0, 0.2, 1),
                opacity   0.25s ease;
    opacity: 1;
}

/* Estado colapsado: altura zero e invisível */
.chamado-mensagem-body.collapsed {
    max-height: 0;
    padding-top: 0;
    padding-bottom: 0;
    opacity: 0;
}

/* Autor da mensagem com avatar */
.chamado-mensagem-autor {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 10px;
}

/* Círculo com iniciais do autor */
.chamado-mensagem-avatar {
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--color-primary), var(--color-primary-mid));
    color: white;
    font-size: 11px;
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.chamado-mensagem-autor-info {
    display: flex;
    flex-direction: column;
    gap: 1px;
}

.chamado-mensagem-nome {
    font-size: 13px;
    font-weight: 600;
    color: var(--color-gray-900);
}

.chamado-mensagem-data {
    font-size: 11px;
    color: var(--color-gray-400);
}

/* Lista de campos da mensagem (label + valor) */
.chamado-mensagem-campos {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

/* Card de campo individual com borda azul esquerda */
.chamado-mensagem-campo {
    background: var(--color-gray-50);
    border-radius: var(--radius-md);
    padding: 10px 14px;
    border-left: 3px solid var(--color-primary);
}

.chamado-mensagem-campo-label {
    font-size: 10px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    font-weight: 700;
    color: var(--color-gray-400);
    margin-bottom: 4px;
}

.chamado-mensagem-campo-valor {
    font-size: 13px;
    color: var(--color-gray-900);
    font-weight: 500;
    line-height: 1.5;
}

/* --- ABA DE ANEXOS (estado vazio) --- */
.chamado-sem-anexos {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 12px;
    padding: 60px 20px;
    color: var(--color-gray-300);
}

.chamado-sem-anexos svg {
    width: 48px;
    height: 48px;
    stroke: var(--color-gray-300);
}

.chamado-sem-anexos p {
    font-size: 14px;
    color: var(--color-gray-400);
    font-weight: 500;
}


/* ==========================================================================
   RESPONSIVIDADE — NOVO CHAMADO E DETALHES
   ========================================================================== */

/* --- Tablet (≤ 1024px) --- */
@media (max-width: 1024px) {
    .ticket-form-container { padding: 0 24px; }
}

/* --- Mobile (≤ 768px) --- */
@media (max-width: 768px) {
    /* Formulário de novo chamado ocupa tela inteira */
    .new-ticket-screen { left: 0; }
    .ticket-form-container { padding: 0 16px; margin: 16px auto; }
    .ticket-form-card { padding: 20px 16px; }
    .ticket-header { padding: 14px 16px; }
    .ticket-title { font-size: 18px; }

    /* Campos em coluna única */
    .form-row-2 { grid-template-columns: 1fr; gap: 14px; }

    /* Botões em coluna invertida (Enviar acima do Cancelar) */
    .form-actions { flex-direction: column-reverse; }
    .form-actions .btn-cancel,
    .form-actions .btn-submit { width: 100%; padding: 13px; }

    /* Upload em coluna */
    .file-upload { flex-direction: column; align-items: stretch; }
    .file-upload-btn { justify-content: center; }
    .file-name { text-align: center; font-size: 12px; }

    /* Grade de tipo de manutenção: 2 colunas */
    .tipo-manutencao-grid { grid-template-columns: repeat(2, 1fr); gap: 10px; }
    .tipo-manutencao-checkboxes { grid-template-columns: repeat(2, 1fr); gap: 8px; }
    .tipo-checkbox { padding: 10px 12px; }
    .tipo-checkbox input[type="checkbox"] { width: 16px; height: 16px; }
    .tipo-checkbox span { font-size: 13px; }
    .tipo-btn { min-height: 90px; padding: 14px 10px; font-size: 12px; }
    .tipo-icon { width: 28px; height: 28px; }

    /* Detalhes do chamado — tela cheia */
    .ticket-details-screen,
    .chamado-detalhes-screen { left: 0; z-index: 1100; }

    .ticket-details-container { padding: 0 16px; }
    .ticket-info-card { padding: 16px; }
    .ticket-history { padding: 16px; }
    .add-step-card { padding: 16px; }

    /* Info em coluna única */
    .info-row { grid-template-columns: 1fr; gap: 12px; }

    /* Cabeçalho de detalhes */
    .chamado-detalhes-header { padding: 12px 16px; flex-wrap: wrap; }
    .chamado-detalhes-header-right { display: none; } /* Oculta pills no mobile */

    .chamado-progresso-wrapper { padding: 12px 16px; }

    /* Painel da etapa atual em coluna */
    .chamado-etapa-atual-panel {
        padding: 12px 16px;
        flex-direction: column;
        align-items: flex-start;
        gap: 12px;
    }

    /* Abas com scroll horizontal e fonte menor */
    .chamado-abas-nav { padding: 0 16px; overflow-x: auto; }
    .chamado-aba-btn { padding: 12px 14px; font-size: 12px; white-space: nowrap; }
    .chamado-aba-conteudo { padding: 16px; }
}

/* --- Smartphones pequenos (≤ 480px) --- */
@media (max-width: 480px) {
    .ticket-form-card { padding: 16px 12px; }
    /* Font-size 16px evita zoom automático em inputs no iOS */
    .form-select,
    .form-input,
    .form-textarea { padding: 9px 12px; font-size: 16px; }
    .form-label { font-size: 12px; }
}


/* ==========================================================================
   SIDEBAR RECOLHIDA — ao abrir tela de detalhes do chamado
   ========================================================================== */

/* Sidebar desliza para fora da tela pela esquerda */
.sidebar.sidebar-hidden {
    transform: translateX(-100%);
}

/* Tela de detalhes expande para ocupar a tela toda (sem a sidebar) */
.chamado-detalhes-screen.fullscreen {
    left: 0;
}